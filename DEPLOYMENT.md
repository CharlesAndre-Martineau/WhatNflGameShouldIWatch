# Deployment Guide - GitHub Pages with GitHub Actions

This guide walks you through deploying your Vite + React app to GitHub Pages automatically using GitHub Actions.

## What is GitHub Pages?

GitHub Pages is a free static site hosting service provided by GitHub. It's perfect for:
- Static websites
- Single Page Applications (SPAs)
- Portfolio sites
- Documentation

## What is GitHub Actions?

GitHub Actions is GitHub's built-in CI/CD (Continuous Integration/Continuous Deployment) system that automatically runs workflows based on repository events like pushes or pull requests.

## How This Works

```
Push to main branch
       ↓
GitHub Actions triggered
       ↓
1. Install dependencies (npm ci)
2. Build app (npm run build)
3. Create dist folder with optimized files
       ↓
Deploy to gh-pages branch
       ↓
GitHub Pages serves the site
```

## Setup Instructions

### Step 1: Ensure Repository is on GitHub

Make sure your repository is pushed to GitHub:

```bash
git remote add origin https://github.com/YOUR_USERNAME/WhatNflGameShouldIWatch.git
git branch -M main
git push -u origin main
```

### Step 2: Workflow File is Already Created

The workflow file (`.github/workflows/deploy.yml`) has been created automatically. It will:
- Run on every push to `main` branch
- Build the app using `npm run build`
- Deploy the `dist` folder to GitHub Pages

### Step 3: Configure GitHub Pages

1. Go to your GitHub repository
2. Click **Settings** (in the top navigation)
3. Click **Pages** in the left sidebar
4. Under "Build and deployment":
   - Source: Select "Deploy from a branch"
   - Branch: Select `gh-pages` and `/(root)`
5. Click **Save**

### Step 4: Push to Deploy

Just push your code to the `main` branch:

```bash
git add .
git commit -m "Deploy to GitHub Pages"
git push origin main
```

The GitHub Actions workflow will automatically:
1. Build your app
2. Deploy it to the `gh-pages` branch
3. GitHub Pages will serve it

### Step 5: Access Your Live Site

After the first deployment, your site will be available at:

```
https://YOUR_USERNAME.github.io/WhatNflGameShouldIWatch/
```

**Note:** It may take a few minutes for the site to be available on first deployment.

## Monitoring Deployments

You can check the status of your deployments:

1. Go to your repository on GitHub
2. Click the **Actions** tab
3. You'll see the list of workflow runs
4. Click on a run to see details (logs, success/failure status)

## Troubleshooting

### Build fails in GitHub Actions

Check the workflow logs:
1. Go to the **Actions** tab
2. Click the failed workflow
3. Click the job to see the error messages

Common issues:
- **Node version**: Make sure `node-version: '18'` in deploy.yml matches your local version
- **Dependencies**: Run `npm ci` locally to verify dependencies install correctly

### Site not appearing

1. Verify the Pages settings (Settings → Pages)
2. Check if `gh-pages` branch was created (should be automatic)
3. Wait 5-10 minutes for GitHub Pages to update

### Incorrect assets path

If styles/images don't load:
- Make sure `vite.config.ts` has `base: '/WhatNflGameShouldIWatch/'`
- This is already configured for you

## Local Testing Before Deployment

To preview exactly what will be deployed:

```bash
npm run build
npm run preview
```

This serves the `dist` folder locally at a production-like URL.

## What Gets Deployed?

Only the contents of the `dist` folder get deployed. This folder is automatically generated by Vite during `npm run build`.

The deployment includes:
- ✅ `index.html` - Your app entry point
- ✅ JavaScript bundles - Your React code (optimized)
- ✅ CSS bundles - Your styles (optimized)
- ✅ Any static assets

## Continuous Deployment

Now whenever you:
1. Push changes to `main` branch
2. Create a Pull Request to `main` (you can preview in Actions)

The GitHub Actions workflow automatically runs and deploys your updates!

## Environment Variables

If you need to use environment variables (API keys, etc.):

1. Go to Settings → Secrets and variables → Actions
2. Click "New repository secret"
3. Add your variables (e.g., `VITE_API_KEY`)
4. In your code, access them as `import.meta.env.VITE_API_KEY`
5. Update `.github/workflows/deploy.yml` to pass them to the build:

```yaml
- name: Build application
  run: npm run build
  env:
    VITE_API_KEY: ${{ secrets.VITE_API_KEY }}
```

## Costs

**Cost: FREE!**

GitHub Pages is completely free for public repositories. No credit card needed.

## Next Steps

- Create a custom domain (optional)
- Set up branch protection rules
- Configure additional GitHub Actions for testing/linting
